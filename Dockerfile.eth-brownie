FROM ghcr.io/chainflip-io/eth-brownie:latest

USER root

RUN yarn global add ganache-cli && ganache-cli --version

COPY poetry.lock pyproject.toml brownie-config.yaml ./

RUN poetry install

RUN brownie pm install OpenZeppelin/openzeppelin-contracts@3.3.0-solc-0.7

RUN chown circleci:circleci /home/circleci/*
